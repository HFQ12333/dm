(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207776"],{a13c:function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.toAddHandler}},[t._v("添加商品")]),t._v(" "),l("el-input",{staticStyle:{width:"200px",display:"inline-block"},attrs:{clearable:"",placeholder:"请输入球员位置"},model:{value:t.list.name,callback:function(e){t.$set(t.list,"name",e)},expression:"list.name"}}),t._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.searchHandle}},[t._v("查询")]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.products,border:""}},[l("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"球员位置",align:"center",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"description",label:"描述",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{width:"100px",prop:"status",label:"销量",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{width:"80px",prop:"price",label:"价格￥",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"photo",label:"图片",width:"140px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("img",{staticStyle:{width:"130px",height:"70px"},attrs:{src:t.row.photo,alt:"图片找不到"}})]}}])}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return t.editHandler(e.row)}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return t.delHandler(e.row.id)}}},[t._v("下架")])]}}])})],1),t._v(" "),l("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":this.list.pageSize,align:"center"},on:{"current-change":t.changePage}}),t._v(" "),l("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"球员位置"}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入球员位置"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"商品描述"}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入商品描述"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"商品销量"}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入商品销量"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"商品价格￥"}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入商品价格￥"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"商品照片地址"}},[l("el-input",{attrs:{clearable:"",placeholder:"请输入商品照片地址"},model:{value:t.form.photo,callback:function(e){t.$set(t.form,"photo",e)},expression:"form.photo"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("确 定")])],1)],1)],1)},o=[],i=l("5530"),r=l("2f62"),n={data:function(){return{list:{page:2,pageSize:5},dialogFormVisible:!1,form:{},tltle:""}},created:function(){this.queryproduct(this.list),console.log("11111"+this.products)},computed:Object(i["a"])({},Object(r["d"])("product",["products","total"])),methods:Object(i["a"])(Object(i["a"])({},Object(r["b"])("product",["findAll","queryproduct","saveproduct","delproductById"])),{},{changePage:function(t){this.list.page=t-1,this.queryproduct(this.list)},toAddHandler:function(){this.dialogFormVisible=!0,this.title="添加商品",this.form={}},submit:function(t){this.saveproduct(this.form),this.dialogFormVisible=!1},delHandler:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.delproductById(t),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},editHandler:function(t){this.dialogFormVisible=!0,this.title="修改商品信息",this.form=t},searchHandle:function(){this.queryproduct(this.list)},detailsHandle:function(t){this.$router.push({name:"details",params:{id:t}})},upTx:function(){var t=this,e=new FileReader,l=document.getElementById("txUrl").files[0];if(!/image\/\w+/.test(l.type))return alert("上传的文件必须为图片"),!1;e.readAsDataURL(l),e.onload=function(t){this.result};var a=new FormData;a.append("upload_img",$("#txUrl")[0].files[0]),axios({url:"http://134.175.154.93:8888",method:"POST",headers:{token:"55a31e89d7dd8b80282cba7d844d1c28"},data:a}).then((function(e){console.log(e.data),0==e.data.code?(vm.imgsrc=e.data.data.src,console.log(vm.imgsrc)):t.$message({message:e.data.msg,type:"alert"})})).catch((function(t){}))}})},s=n,c=l("2877"),d=Object(c["a"])(s,a,o,!1,null,"5208029e",null);e["default"]=d.exports}}]);